<!DOCTYPE html>
<html>
<head>
    <title>IoT Threat Dashboard</title>
    <style>
        body { font-family: Arial; background:#f4f4f4; }
        table { width:100%; border-collapse: collapse; background:white; }
        th,td { padding:10px; border:1px solid #ccc; text-align:center; }
        th { background:#333; color:white; }
        .SAFE { background:#d4edda; }
        .THREAT { background:#f8d7da; }
        .High { color:red; }
        .Medium { color:orange; }
        .Low { color:green; }
    </style>
</head>
<body>

<h1 align="center">Real-Time IoT Threat Detection</h1>

<table>
<thead>
<tr>
<th>Time</th><th>Source</th><th>Destination</th>
<th>Protocol</th><th>Size</th><th>Status</th><th>Level</th>
</tr>
</thead>
<tbody id="data"></tbody>
</table>

<script>
setInterval(()=>{
fetch("/logs")
.then(res=>res.json())
.then(data=>{
    let rows="";
    data.forEach(l=>{
        rows+=`
        <tr class="${l.Status}">
            <td>${l.Time}</td>
            <td>${l.Source}</td>
            <td>${l.Destination}</td>
            <td>${l.Protocol}</td>
            <td>${l.Size}</td>
            <td>${l.Status}</td>
            <td class="${l.Level}">${l.Level}</td>
        </tr>`;
    })
    document.getElementById("data").innerHTML=rows;
})
},2000);
</script>

</body>
</html>
